<%- include('../partials/head') %>
</head>
<body class="bg-gray-50 font-sans">
  <!-- Navbar -->
  <%- include('../partials/nav') %>

  <!-- Add Home Form Section -->
  <main class="container mx-auto my-10 px-4">
    <div class="max-w-lg mx-auto bg-white rounded-xl shadow-lg overflow-hidden">
      <div class="airbnb-gradient py-6 px-8">
        <h2 class="text-2xl font-bold text-center">Join the Airbnb community</h2>
        <p class=" text-center mt-2 opacity-90">Find amazing homes and experiences around the world</p>
      </div>
      
      <div class="p-8">
        <form action="/sign-up" method="POST" class="space-y-5">

          <%- include('../partials/errors') %>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Error handling component with improved design -->
            
            <!-- First Name -->
            <div>
              <label for="fname" class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                  <i class="fas fa-user"></i>
                </span>
                <input
                  id="fname"
                  type="text"
                  name="fname"
                  value="<%= oldInput.fname ? oldInput.fname : ''%>"
                  placeholder="Enter your first name"
                  required
                  class="form-control w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none"
                >
              </div>
            </div>

            <!-- Last Name -->
            <div>
              <label for="lname" class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                  <i class="fas fa-user"></i>
                </span>
                <input
                  id="lname"
                  type="text"
                  name="lname"
                  value="<%= oldInput.lname ? oldInput.lname : ''%>"
                  placeholder="Enter your last name"
                  class="form-control w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none"
                >
              </div>
            </div>
          </div>

          <!-- Email -->
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                <i class="fas fa-envelope"></i>
              </span>
              <input
                id="email"
                type="email"
                name="email"
                value="<%= oldInput.email ? oldInput.email : ''%>"
                placeholder="E.g - john@gmail.com"
                required
                class="form-control w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none"
              >
            </div>
          </div>

          <!-- Password -->
          <div>
            <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                <i class="fas fa-lock"></i>
              </span>
              <input
                id="password"
                type="password"
                name="password"
                placeholder="Create a secure password"
                required
                class="form-control w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none"
              >
              <span class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 cursor-pointer">
                <i class="fas fa-eye" id="togglePassword"></i>
              </span>
            </div>
            <p class="text-xs text-gray-500 mt-1">Must be at least 8 characters long</p>
          </div>

          <!-- Confirm Password -->
          <div>
            <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                <i class="fas fa-lock"></i>
              </span>
              <input
                id="confirmPassword"
                type="password"
                name="confirmPassword"
                placeholder="Confirm your password"
                required
                class="form-control w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none"
              >
            </div>
          </div>

          <!-- User Type -->
          <div>
            <label for="userType" class="block text-sm font-medium text-gray-700 mb-1">I want to</label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                <i class="fas fa-user-tag"></i>
              </span>
              <select
                id="userType"
                name="userType"
                
                required
                class="form-control w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg appearance-none focus:outline-none"
              >
                <option value="">Select your role</option>
                <option value="guest"  <%= (oldInput && oldInput.userType === 'guest') ? 'selected' : '' %>>As a guest</option>
                <option value="host" <%= (oldInput && oldInput.userType === 'host') ? 'selected' : '' %>>As a Host</option>
              </select>
              <span class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 pointer-events-none">
                <i class="fas fa-chevron-down"></i>
              </span>
            </div>
          </div>

          <!-- Terms and Conditions -->
          <div class="flex items-start space-x-3 mt-6">
            <input
              id="terms"
              type="checkbox"
              name="terms"
              required
              class="mt-1 h-4 w-4 text-red-500 border-gray-300 rounded focus:ring-red-500"
            >
            <label for="terms" class="text-sm text-gray-700">
              By signing up, I agree to Airbnb's <a href="#" class="text-red-500 hover:underline">Terms of Service</a>, <a href="#" class="text-red-500 hover:underline">Privacy Policy</a>, and <a href="#" class="text-red-500 hover:underline">Cookie Policy</a>.
            </label>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="w-full airbnb-gradient bg-red-600 text-white py-3 rounded-lg shadow-lg text-lg font-semibold hover:opacity-90 transition duration-300 mt-6"
          >
            Sign Up
          </button>
        </form>

        <!-- Social Sign Up Options -->
        <div class="mt-8">
          <div class="relative">
            <div class="absolute inset-0 flex items-center">
              <div class="w-full border-t border-gray-300"></div>
            </div>
            <div class="relative flex justify-center text-sm">
              <span class="px-2 bg-white text-gray-500">Or sign up with</span>
            </div>
          </div>

          <div class="mt-6 grid grid-cols-3 gap-3">
            <button type="button" class="w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
              <i class="fab fa-google text-xl"></i>
            </button>
            <button type="button" class="w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
              <i class="fab fa-facebook-f text-xl text-blue-600"></i>
            </button>
            <button type="button" class="w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
              <i class="fab fa-apple text-xl"></i>
            </button>
          </div>
        </div>

        <!-- Login Link -->
        <div class="text-center mt-8">
          <p class="text-gray-600">
            Already have an account? 
            <a href="/login" class="text-red-500 font-medium hover:underline">Log in</a>
          </p>
        </div>
      </div>
    </div>
  </main>
</body>
</html>
